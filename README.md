[Edit on StackBlitz ⚡️](https://stackblitz.com/edit/typescript-z8io8j)

## SmartCollection

**SmartCollection** - коллекция, которая хранит значения в виде массива и может использовать цепочки вызовов при работе с элементами коллекции.

**SmartCollection состоит их 3 классов, связанных через наследование:**
1. ***AbstractCollection*** - базовый класс для коллекции: 
    - включает массив для хранения коллекции (защищённое поле);
    - задают конструкторы для создания коллекции (3 вида: пустой, принимает 1 значение, принимает массив);
    - определяет символ итератор для перечисления в цикле;
    - геттеров `length` и `size` предоставляют длину массива.  
    Разницы между ними нет, использовать можно любой;
    - геттер `values` возвращает значение коллекции в виде копии массива.


1. ***ExecCollection*** - класс, который позволяет фильтровать и выполнять действия над всеми элементами коллекции.  
Используют цепочку вызовов. Каждый из методов возвращает ссылку на коллекцию.
    - метод `filter` - принимает в качестве параметра функцию, которая фильтрует коллекцию и возвращает новую коллекцию;
    - метод `call` - принимает в качестве параметра функцию, которая вызывается для каждого элемента;  
    Метод  `call` может принимать объект с 2 полями `filter` и `call`. В качестве значений параметров передаются функции как для соответствующих методов, но в отличие от метода `filter` сама коллекция не фильтруется.
    - метод `first` - принимает в качестве параметра функцию, которая выполняется для первого элемента коллекции;
    - метод `last` - принимает в качестве параметра функцию, которая выполняется для последнего элемента коллекции;
    - метод `do` - принимает в качестве параметра функцию, которая просто выполняется 1 раз, служит промежуточным звеном между другими методами.


1. ***SmartCollection*** - добавляет методы для работы с коллекцией:
    - метод `lpush` - добавляет значение или массив значений в начало коллекции.  
    Добавление элементов массива происходит по порядку: сначала добавляется 1-й элемент массива, затем 2-й и т. д., из-за этого массив вставляется перевернутым; 
    - метод `rpush` - добавляет значение или массив значений в конец коллекции.  
    Добавление происходит по порядку, поэтому массив вставляется так как подаётся;
    - метод `lpop` - извлекает элементы коллекции с начала коллекции.  
    Извлечение осуществляется поэлементно, сначала 1-й, затем 2-й, в итоге массив содержит элементы в прямом порядке.
    - метод `rpop` - извлекает элементы коллекции с конца коллекции.  
    Извлечение осуществляется поэлементно, начиная с последнего элемента, в итоге массив содержит элементы в обратном порядке.
    - метод `insert` - вставляет значение или массив значений в указанное место коллекции, раздвигая коллекцию; 
    - метод `delete` - удаляет из коллекции элементы, которые передаются в виде значений или массива значений;  
    - метод `clear` -  очищает коллекцию;
    - метод `has` -  проверяет наличие значения в коллекции;
    - метод `sort` -  сортирует коллекцию, может принимать в качестве параметра функцию для сравнения.

Почти все методы (за исключением `lpop`, `rpop`, `has`  ) возвращают ссылку на текущую коллекцию, т. е. могут использоваться в цепочке вызовов. 


## UniqueCollection

**UniqueCollection** - уникальная коллекция которая представляет собой SmartCollection с дополнительной проверкой на уникальность. 


## Использование
Сама по себе коллекция `SmartCollection` может использоваться с примитивными типами.

Для элементов в виде классов лучше делать специальные коллекции (см. `PersonCollection` с элементами в виде класса `Person`), в которых можно повторять методы класса, но для всей коллекции, таким образом можно использовать их в цепочках вызовов.

## Примеры

Небольшие примеры можно посмотреть в файле `index.ts`.
